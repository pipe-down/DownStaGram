<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header" />
<head>
  <link href="/css/login.css" rel="stylesheet" type="text/css" />
  <link href="/css/main.css" rel="stylesheet" type="text/css" />
</head>
<body>
<head th:replace="fragments/bodyHeader :: bodyHeader" />
<main>
    <div class="container" style="height: 100%; width: 500px; padding: 30px">
      <span style="padding: 10px"><strong th:text="${user.userId}"></strong> 회원님의 계정이 삭제됩니다.<br>탈퇴시 개인정보 및 이용정보가 삭제되며 복구할 수 없습니다. <br>
        본인의 비밀번호를 입력한 후 하단의 유의사항 동의에 체크하세요.</span>
      <form id="delete_user" th:action="@{/user/delete}" method="post">
      <input type="password" class="input_login" id="password" name="password" placeholder="비밀번호">
      <label>
        <input type="checkbox" id="ck" name="ck">
        <span>유의사항 동의</span>
      </label>
        <br/>
      <small>
        본인인증을 위해 비밀번호를 입력해주세요.
      </small>
      </form>
      <button type="button" class="btn_delete" id="btn_login" onclick="checkDisable();">회원탈퇴</button>
    </div>
</main>
</body>
<script src="/js/jquery.min.js"></script>
<script th:inline="javascript">
  function checkDisable() {
    if ($("input:checkbox[id='ck']").is(":checked")) {
      if ($('#password').val() == '') {
        alert("비밀번호를 입력하세요");
        return;
      }
      $('#delete_user').submit();
    } else {
      alert("유의사항 동의에 체크하세요");
      return;
    }
  }
</script>
</html>